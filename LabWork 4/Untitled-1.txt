
instance Applicative Tree where
  pure x = Leaf x
  (Branch f1 f2) <*> (Branch x y) = Branch (f1 <*> x) (f2 <*> y)
  -- остальное так же
  (Branch f1 f2) <*> (Leaf x) = Branch (f1 <*> Leaf x) (f2 <*> Leaf x)
  (Leaf f) <*> (Branch x y) = Branch (f <$> x) (f <$> y)
  (Leaf f) <*> (Leaf x) = Leaf (f x)

Указание: Для доказательства удобно пользоваться законами функтора:

Идентичность fmap id = id
Композиция fmap (f . g) = (fmap f . fmap g)

или эквивалентно через оператор <$>:

Идентичность id <$> x = x
Композиция (f . g) <$> x = f <$> (g <$> x)
и связью функтора и апплиактивного функтора: fmap f x = pure f <*> x, 
или эквивалентно f <$> x = pure f <*> x.

